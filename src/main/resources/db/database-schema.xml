<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <preConditions>
        <runningAs  username="smartFridge"/>
    </preConditions>

    <changeSet  author="smartFridge"  id="createSequence_food_id">
        <createSequence  dataType="int"
                         incrementBy="1"
                         sequenceName="sequence_food_id"
                         startValue="1"
        />
    </changeSet>

    <changeSet  author="smartFridge"  id="createSequence_foodinventory_id">
        <createSequence  dataType="int"
                         incrementBy="1"
                         sequenceName="sequence_foodinventory_id"
                         startValue="1"
        />
    </changeSet>

    <changeSet  author="smartFridge"  id="createSequence_recipe_id">
        <createSequence  dataType="int"
                         incrementBy="1"
                         sequenceName="sequence_recipe_id"
                         startValue="1"
        />
    </changeSet>

    <changeSet  author="smartFridge"  id="createSequence_fridge_id">
        <createSequence  dataType="int"
                         incrementBy="1"
                         sequenceName="sequence_fridge_id"
                         startValue="1"
        />
    </changeSet>

    <changeSet  author="smartFridge"  id="createSequence_meal_id">
        <createSequence  dataType="int"
                         incrementBy="1"
                         sequenceName="sequence_meal_id"
                         startValue="1"
        />
    </changeSet>

    <changeSet  author="smartFridge"  id="createSequence_revision_seq">
        <createSequence  dataType="int"
                         sequenceName="revision_seq"
        />
    </changeSet>

    <changeSet id="addTableRevision" author="smartFridge">
        <createTable tableName="revision">
            <column name="id" type="BigInt">
                <constraints  primaryKey="true"  nullable="false" primaryKeyName="pk_revision"/>
            </column>
            <column  name="created"  type="timestamp">
                <constraints  nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="addTableRecipe" author="smartFridge">
        <createTable tableName="recipe">
            <column name="id" type="BigInt">
                <constraints  primaryKey="true"  nullable="false" primaryKeyName="pk_recipe"/>
            </column>
            <column name="name" type="varchar(50)"/>
            <column name="ingredients" type="varchar(250)"/>
            <column name="steps" type="varchar(500)"/>
            <column name="proteins" type="float"/>
            <column name="carbs" type="float"/>
            <column name="fats" type="float"/>
            <column name="calories" type="float"/>
            <column name="servings" type="float"/>
            <column name="created" type="timestamp"/>
            <column name="lastModified" type="timestamp"/>
            <column name="version" type="int"/>
        </createTable>
    </changeSet>

    <changeSet id="addTableRecipeAud" author="smartFridge">
        <createTable tableName="account_aud">
            <column name="id" type="BigInt">
                <constraints  primaryKey="true"  nullable="false" primaryKeyName="pk_recipe_aud"/>
            </column>
            <column name="rev" type="BigInt"/>
            <column name="revtype" type="TinyInt"/>
            <column name="name_mod" type="Boolean"/>
            <column name="ingredients_mod" type="Boolean"/>
            <column name="steps_mod" type="Boolean"/>
            <column name="proteins_mod" type="Boolean"/>
            <column name="carbs_mod" type="Boolean"/>
            <column name="fats_mod" type="Boolean"/>
            <column name="calories_mod" type="Boolean"/>
            <column name="servings_mod" type="Boolean"/>
            <column name="name" type="varchar(50)"/>
            <column name="ingredients" type="varchar(250)"/>
            <column name="steps" type="varchar(500)"/>
            <column name="proteins" type="float"/>
            <column name="carbs" type="float"/>
            <column name="fats" type="float"/>
            <column name="calories" type="float"/>
            <column name="servings" type="float"/>
        </createTable>
    </changeSet>

</databaseChangeLog>